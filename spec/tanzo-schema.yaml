$schema: http://json-schema.org/draft-07/schema#
$id: https://github.com/onalius/tanzo-lang-core/spec/tanzo-schema.yaml
title: TanzoLang Schema
description: Schema definition for Tomodaichi Tanzo digital archetypes and profiles
type: object
required:
  - version
  - profile_type
  - archetype
properties:
  version:
    type: string
    description: The TanzoLang schema version
    pattern: ^\\d+\\.\\d+\\.\\d+$
  profile_type:
    type: string
    description: Type of Tanzo profile
    enum:
      - full
      - archetype_only
      - simulation
  archetype:
    type: object
    description: Digital archetype definition
    required:
      - name
      - core_traits
      - skills
    properties:
      name:
        type: string
        description: Name of the digital archetype
      description:
        type: string
        description: Description of the digital archetype
      core_traits:
        type: object
        description: Core personality traits of the archetype
        required:
          - intelligence
          - creativity
          - sociability
        properties:
          intelligence:
            $ref: '#/definitions/trait_score'
          creativity:
            $ref: '#/definitions/trait_score'
          sociability:
            $ref: '#/definitions/trait_score'
          adaptability:
            $ref: '#/definitions/trait_score'
          resilience:
            $ref: '#/definitions/trait_score'
        additionalProperties:
          $ref: '#/definitions/trait_score'
      skills:
        type: array
        description: Skills possessed by the archetype
        minItems: 1
        items:
          $ref: '#/definitions/skill'
      interests:
        type: array
        description: Interests of the archetype
        items:
          type: string
      values:
        type: array
        description: Core values of the archetype
        items:
          type: string
  simulation_parameters:
    type: object
    description: Parameters for simulation runs
    properties:
      variation_factor:
        type: number
        description: Factor for variation in simulations
        minimum: 0
        maximum: 1
      seed:
        type: integer
        description: Random seed for reproducible simulations
      iterations:
        type: integer
        description: Number of simulation iterations
        minimum: 1
        default: 100
      environments:
        type: array
        description: Simulation environments
        items:
          type: string
  metadata:
    type: object
    description: Additional metadata
    properties:
      author:
        type: string
      created_at:
        type: string
        format: date-time
      tags:
        type: array
        items:
          type: string
definitions:
  trait_score:
    type: object
    required:
      - base
    properties:
      base:
        type: number
        description: Base score for the trait
        minimum: 0
        maximum: 10
      range:
        type: array
        description: Range of possible values [min, max]
        minItems: 2
        maxItems: 2
        items:
          type: number
      distribution:
        type: string
        description: Statistical distribution for simulation
        enum:
          - normal
          - uniform
          - exponential
  skill:
    type: object
    required:
      - name
      - proficiency
    properties:
      name:
        type: string
        description: Name of the skill
      proficiency:
        $ref: '#/definitions/trait_score'
      category:
        type: string
        description: Skill category
      experience_years:
        type: number
        description: Years of experience with this skill
        minimum: 0
