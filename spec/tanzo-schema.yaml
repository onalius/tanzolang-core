$schema: http://json-schema.org/draft-07/schema#
$id: https://github.com/onalius/tanzo-lang-core/spec/tanzo-schema.yaml
title: TanzoLang Schema
description: Schema specification for Tomodaichi Tanzo ecosystem profiles
type: object
required:
  - profile
  - version
properties:
  version:
    type: string
    description: The version of the TanzoLang schema
    pattern: ^\\d+\\.\\d+\\.\\d+$
    default: "0.1.0"
  profile:
    type: object
    required:
      - name
      - archetypes
    properties:
      name:
        type: string
        description: The name of the profile
      description:
        type: string
        description: A description of the profile
      archetypes:
        type: array
        description: The archetypes defining this profile
        minItems: 1
        items:
          $ref: "#/definitions/archetype"
      metadata:
        type: object
        description: Additional metadata for the profile
        additionalProperties: true
definitions:
  archetype:
    type: object
    required:
      - type
      - weight
    properties:
      type:
        type: string
        description: The type of the archetype
        enum:
          - digital
          - physical
          - social
          - emotional
          - cognitive
      weight:
        type: number
        description: The weight of this archetype in the profile (0.0-1.0)
        minimum: 0
        maximum: 1
      traits:
        type: array
        description: Traits associated with this archetype
        items:
          $ref: "#/definitions/trait"
      attributes:
        type: object
        description: Specific attributes for this archetype
        additionalProperties:
          oneOf:
            - type: string
            - type: number
            - type: boolean
            - type: object
  trait:
    type: object
    required:
      - name
      - value
    properties:
      name:
        type: string
        description: The name of the trait
      value:
        type: number
        description: The value of the trait (0.0-1.0)
        minimum: 0
        maximum: 1
      variance:
        type: number
        description: The variance of the trait for simulation (0.0-1.0)
        minimum: 0
        maximum: 1
        default: 0.1
      description:
        type: string
        description: A description of the trait
